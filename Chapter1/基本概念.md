# 第2节：基本概念

# 第2节：基本概念食
## 2.1操作系统的核心-内核
### 操作系统
- 完整的软件包,管理计算器资源的核心层软件,以及附带标准软件工具
- 管理和分配计算机资源的核心软件,术语"内核"
   tips: 虽然没有内核的情况下,计算机也能运行程序,蛋内核会极大的简化其他程序的编写与使用.一般情况下,linux内核可执行文件采用/boot/vmlinuz或者之类似的路径名.
     
### 内核的职责
- 进程调度
    - 计算机内均配备一个或者多个CPU,以执行程序.linux术语抢占式多任务系统.
    - 多任务系统指多个进程可同时驻留内存,并获得cpu的使用权.
    - 抢占:是指一组规则,规则控制进程对cpu的使用,使用时长.此规则由内核进程调度程序决定.
- 内存管理-虚拟内存管理机制
    - 进程与进程之间,进程与内核之间彼此隔离,因此一个进程无法读取或修改内核或者其他进程的内存内容.
    - 只需将进程的一部分保留在内存中,降低了每个进程对内存的需求量并在RAM中同时加载更多的进程,从而加大了在任意时刻,cpu都有至少一个进程可执行的概率,从而对CPU的资源利用更充分.

- 提供文件系统
    - 内核在磁盘至上提供文件系统,允许对文件执行创建,获取,更新已经删除操作
- 创建和终止进程
    - 内核可将新的程序载入内存,为其提供运行所需资源(cpu,内存,文件系统),运行中的程序称之为"进程",进程执行完毕,内核虚确保释放其占用的资源.
- 对设备的访问
    - 计算机外接设备科实现计算机遇外部世界的通信(输入,输出,或两者),内核既为程序访问设备提供标准化的接口,同时需仲裁多个进程对每个设备的访问
- 联网
    - 内核以用户进程的名义手法网络消息(数据包).该任务包裹将网络数据包路由至目标系统
- 提供系统调用应用的编程接口(API)
    - 进程利用内核入口点(系统调用)请求内核执行各种任务.

### 内核态和用户态
> 一般情况处理器架构允许CPU至少在两种不同的状态下运行,即:用户态和核心态(有时也称之为监管态,supervisor mode).执行硬件指令可是CPU在两种状态间来回切换.与之对应,可将虚拟内存区域标记为用户控件或者内核空间部分.在用户态下运行时,CPU只能访问被标记为用户空间的内存,试图访问内核控件的内存会引发硬件异常.当运行于核心态时,CPU既能访问用户空间内存,也能访问内核控件内存.
    仅当处理器在核心态运行时,才能执行某些特定的操作.eg:执行宕机(halt)指令去关闭系统,访问内存管理硬件,已经设备I/O操作的初始化.实现者利用这一硬件设计,将操作系统置于内核空间.确保了用户进程既不能访问内核指令和数据结构,也无法执行不利于操作系统的操作.

### 以进程及内核视角检查系统

## 2.2 shell
>shell 是一种具有特殊用途的程序,主要用于读取用户输入的命令,并执行相应的程序以响应命令--命令解释器,术语登录shell(login shell)是至用户刚登录系统时候,由系统创建,用以运行shell的进程

常见的shell
- Bourne shell(sh)
- C shell(csh)
- Korn shell(ksh)
- Bourne again shell (bash))


## 2.3 用户和组
>系统对每个用的身份做唯一标识,用户可隶属于多个组
### 用户
>系统为每个用户都拥有唯一的登录名和与之对应的整数型用户ID(UID).系统密码文件/etc/passwd 为每个用户都定义了一条记录.除了上述两项信息外,还包含如下下信息:
- 组ID: 用户所属第一个组的整数型组ID
- 主目录: 用户登录后居于的初始目录
- 登录shell: 执行以解释用户命令的程序名称
         该记录还能以加密的形式保存密码,由于安全考虑,用户密码存储于shadows密码文件中

### 组
 每个用户组都对应系统组文件 /etc/group中的一行记录,记录信息如下:
 - 组名: (唯一的)组名称
 - 组ID(GID): 与组相关的整数型ID
 - 用户列表: 隶属于该组的用户登录名列表

### 超级用户
> 超级用户在系统中享有特权.超级用户账号ID为0,通常登录名为root


## 2.4 单根目录层级 目录 链接及文件
> 内核维护着一套单根目录结构,以放置系统所有文件
### 文件类型
> 在文件系统内,会对文件类型进行标记,以表明其种类.其中一种用来表示普通数据的文件,通常称之为"普通文件"或者"纯文本文件",以示与其他种类文件的区别.其他文件包括设备,管道,套字节,目录已经符号链接
### 路径和链接
>目录是一种特殊类型的文件,内容采用表格形式数据项包过文件名以及对应文件的引用."文件名+引用"的组合称为链接.每个文件都可以有多条链接,因而也可以有多个名称,在相同或不同的目录中出现.
目录可以包含只想文件或者其他目录的链接.
每个目录至少包含两条记录: . 和 .. 每个目录都有父目录.对根目录而言,..指向根目录自身的链接(因此,/..等于/)

### 符号链接

 类似于普通链接,符号链接给文件起了一个别名.在目录列表中,普通链接内容为"文件名+指针"的一条记录,而符号链接则是经过特殊标记的文件,内容包含另一文件的名称.
 通常人们通常使用硬链接(hard link) 或软连接(soft link)来指代正常链接和符号链接
 
 ### 文件名
 ### 路径名
 - 绝对路径
 - 相对路径
### 当前工作目录
### 文件的所有权和权限

